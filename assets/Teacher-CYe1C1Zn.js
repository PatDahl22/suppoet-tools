import{j as e,U as b,E as j,f as v,r as h}from"./ui-BgXL2xbt.js";import{A as N,D as w,a as k}from"./app-footer-CqvDrwBs.js";import"./vendor-OskAq2oX.js";function y({requests:i,onAcknowledge:d,onMarkDone:m,onViewDetail:r}){const x=t=>`${t*2+1}min`;return e.jsx("div",{className:"flex flex-col items-center p-6 bg-background w-full h-full",children:e.jsxs("div",{className:"w-full max-w-md mx-auto space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-bold",children:"Active Signals"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),e.jsx("p",{className:"text-muted-foreground text-sm",children:"Students waiting for assistance"}),e.jsx("div",{className:"flex flex-col gap-4 mt-2",children:i.length===0?e.jsx("div",{className:"text-center py-10 text-muted-foreground",children:"No active signals"}):i.map((t,n)=>e.jsxs("button",{className:"w-full text-left bg-white border border-border rounded-[20px] p-4 shadow-sm relative overflow-hidden cursor-pointer hover:border-primary/50 transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",onClick:()=>r(t.id),children:[e.jsx("div",{className:`absolute left-0 top-0 bottom-0 w-1.5 ${t.status==="Pending"?"bg-orange-600":"bg-green-600"}`}),e.jsxs("span",{className:"sr-only",children:["Status: ",t.status]}),e.jsxs("div",{className:"pl-3 flex flex-col gap-4",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-100 flex items-center justify-center text-slate-600",children:e.jsx(b,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-base",children:t.name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:t.type})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-xs font-mono text-red-600 font-medium",children:["+ ",x(n)]}),e.jsx("button",{className:"text-muted-foreground hover:text-foreground p-1 rounded-md focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",onClick:l=>{l.stopPropagation()},"aria-label":"More options",children:e.jsx(j,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{className:"flex gap-3",onClick:l=>l.stopPropagation(),children:[t.status==="Pending"?e.jsx("button",{className:"flex-1 px-4 py-2.5 rounded-xl bg-[#4A72D6] text-white text-sm font-medium hover:bg-[#3b5eb8] transition-colors shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",onClick:()=>d(n),children:"Acknowledge"}):e.jsxs("span",{className:"flex-1 px-4 py-2.5 rounded-xl bg-green-600 text-white text-sm font-medium shadow-sm flex items-center justify-center cursor-default",children:[e.jsx(v,{className:"w-4 h-4 mr-2"}),"Acknowledged"]}),e.jsx("button",{className:"px-4 py-2.5 rounded-xl bg-muted/50 text-muted-foreground text-sm font-medium hover:bg-muted hover:text-foreground transition-colors border border-transparent hover:border-border focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",onClick:()=>m(n),children:"Mark Done"})]})]})]},t.id||n))}),e.jsxs("div",{className:"bg-white border border-border rounded-xl p-4 flex justify-between items-center shadow-sm mt-8",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Today's Summary"}),e.jsxs("h4",{className:"font-bold text-lg",children:["12 ",e.jsx("span",{className:"text-sm font-normal text-muted-foreground",children:"Total Signals"})]})]}),e.jsx("div",{className:"h-8 w-px bg-border"}),e.jsx("div",{children:e.jsxs("h4",{className:"font-bold text-lg text-green-600",children:["9 ",e.jsx("span",{className:"text-sm font-normal text-muted-foreground",children:"Resolved"})]})}),e.jsx("div",{className:"h-8 w-px bg-border"}),e.jsx("div",{children:e.jsxs("h4",{className:"font-bold text-lg text-orange-500",children:["2.5min ",e.jsx("span",{className:"text-sm font-normal text-muted-foreground",children:"Avg Response"})]})})]})]})})}function R(){const[i,d]=h.useState("dashboard"),[m,r]=h.useState(null),[x,t]=h.useState([{id:"1",name:"Anna S.",type:"stuck",status:"pending",timestamp:"10:30"},{id:"2",name:"Erik L.",type:"explanation",status:"pending",timestamp:"10:32"},{id:"3",name:"Maria K.",type:"personal",status:"acknowledged",timestamp:"10:15"}]),n=s=>{t(c=>c.map(a=>a.id===s?{...a,status:"acknowledged"}:a))},l=s=>{t(c=>c.filter(a=>a.id!==s)),m===s&&(d("dashboard"),r(null))},f=s=>{t(c=>c.map(a=>a.id===s?{...a,status:"planned"}:a))},p=s=>{r(s),d("detail")},g=()=>{d("dashboard"),r(null)},u=x.map(s=>({id:s.id,name:s.name,type:s.type.charAt(0).toUpperCase()+s.type.slice(1),status:s.status.charAt(0).toUpperCase()+s.status.slice(1)})),o=x.find(s=>s.id===m);return e.jsxs("div",{className:"h-full flex flex-col bg-background overflow-hidden",children:[e.jsx(N,{teacherName:"Mrs. Davis",status:"Teacher View"}),e.jsxs("main",{className:"flex-1 overflow-y-auto w-full",children:[i==="dashboard"&&e.jsx(y,{requests:u,onAcknowledge:s=>n(u[s].id),onMarkDone:s=>l(u[s].id),onViewDetail:p}),i==="detail"&&o&&e.jsx(w,{request:{...o,studentName:o.name},onBack:g,onAction:s=>{s==="acknowledge"&&n(o.id),s==="plan"&&f(o.id),s==="complete"&&l(o.id)}})]}),e.jsx(k,{})]})}export{R as default};
